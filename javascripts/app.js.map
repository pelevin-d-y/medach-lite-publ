{"version":3,"sources":["app/initialize.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApFA;AAAA","file":"public/javascripts/app.js","sourcesContent":["'use strict';\n\nvar _jquery = require('jquery');\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar $headerInput = (0, _jquery2.default)('.header__search');\nvar $headerBuffer = (0, _jquery2.default)('.header__search-buffer');\n$headerInput.on('input', function () {\n  $headerBuffer.text($headerInput.val());\n  $headerInput.width($headerBuffer.width());\n});\n\nvar newCalendar = function newCalendar(year, attrCalendarsBody, calendarAllLinks, attrCalendarMonth, parentsYearClassName) {\n  for (var j = 0; j < 12; j++) {\n    var D1 = new Date(year, j);\n    var D1last = new Date(D1.getFullYear(), D1.getMonth() + 1, 0).getDate(); // последний день месяца\n    var D1Nlast = new Date(D1.getFullYear(), D1.getMonth(), D1last).getDay(); // день недели последнего дня месяца\n    var D1Nfirst = new Date(D1.getFullYear(), D1.getMonth(), 1).getDay(); // день недели первого дня месяца\n    var calendar1 = '<tr>';\n    var month = ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь']; // название месяца, вместо цифр 0-11\n\n    // пустые клетки до первого дня текущего месяца\n    if (D1Nfirst !== 0) {\n      for (var i = 1; i < D1Nfirst; i++) {\n        calendar1 += '<td>';\n      }\n    } else {\n      // если первый день месяца выпадает на воскресенье, то требуется 7 пустых клеток\n      for (var l = 0; l < 6; l++) {\n        calendar1 += '<td>';\n      }\n    }\n\n    // дни месяца\n    for (var daysMonth = 1; daysMonth <= D1last; daysMonth++) {\n      if (daysMonth !== D1.getDate()) {\n        calendar1 += '<td>' + '<a href=\"#\" class=\"day-link\">' + daysMonth + '</a>';\n      } else {\n        calendar1 += '<td id=\"today\">' + '<a href=\"#\" class=\"day-link\">' + daysMonth + '</a>';\n      }\n      if (new Date(D1.getFullYear(), D1.getMonth(), daysMonth).getDay() === 0) {\n        // если день выпадает на воскресенье, то перевод строки\n        calendar1 += '<tr>';\n      }\n    }\n\n    // пустые клетки после последнего дня месяца\n    if (D1Nlast !== 0) {\n      for (var k = D1Nlast; k < 7; k++) {\n        calendar1 += '<td>';\n      }\n    }\n\n    var classElementCalendarsTbody = attrCalendarsBody;\n    var classElementCalendarsMonth = attrCalendarMonth;\n\n    var calendarsTbody = document.querySelectorAll(classElementCalendarsTbody);\n\n    var calendarsMonth = document.querySelectorAll(classElementCalendarsMonth);\n\n    calendarsTbody[j].innerHTML = calendar1;\n    calendarsMonth[j].innerHTML = month[D1.getMonth()];\n  }\n\n  var dayLinks = document.querySelectorAll(calendarAllLinks);\n  var newDayLinks = [].slice.call(dayLinks);\n\n  var classElementDayLinkDigit = parentsYearClassName;\n  var newClassElementDayLinkDigit = [].slice.call(dayLinks);\n\n  for (var m = 0; dayLinks.length > m; m++) {\n    var monthDigit = newDayLinks[m].closest('.calendar-digits').getAttribute('data-month');\n    var yearDigit = newClassElementDayLinkDigit[m].closest(classElementDayLinkDigit).getAttribute('data-year');\n\n    newDayLinks[m].setAttribute('href', 'index' + '#' + newDayLinks[m].textContent + '/' + monthDigit + '/' + yearDigit);\n  }\n};\n\nnewCalendar(2017, '.calendar__wrapper-2017 .calendar-digits tbody', '.calendar__wrapper-2017 .day-link', '.calendar__wrapper-2017 .month', '.calendar__wrapper-2017');\n\nnewCalendar(2016, '.calendar__wrapper-2016 .calendar-digits tbody', '.calendar__wrapper-2016 .day-link', '.calendar__wrapper-2016 .month', '.calendar__wrapper-2016');\n"]}